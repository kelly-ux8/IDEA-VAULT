<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - IDEA VAULT CLUB</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <img src="images/logo.png" alt="IDEA VAULT CLUB Logo" class="logo-nav">
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="courses.html">Courses</a></li>
            <li><a href="quiz.html">Quizzes</a></li>
            <li><a href="leaderboard.html">Leaderboard</a></li>
            <li><a href="ip_tool.html">IP Tool</a></li>
            <li><a href="profile.html">Profile</a></li>
        </ul>
    </nav>

    <!-- Admin Panel -->
    <section class="admin-section">
        <h1>Admin Panel</h1>

        <!-- Add New Course -->
        <div class="admin-card">
            <h2>Add New Course</h2>
            <form id="courseForm">
                <input type="text" id="courseTitle" placeholder="Course Title" required>
                <textarea id="courseContent" placeholder="Course Content" required></textarea>
                <button type="submit" class="btn-primary">Add Course</button>
            </form>
        </div>

        <!-- Add New Quiz -->
        <div class="admin-card">
            <h2>Add New Quiz</h2>
            <form id="quizForm">
                <input type="text" id="quizQuestion" placeholder="Quiz Question" required>
                <input type="text" id="optionA" placeholder="Option A" required>
                <input type="text" id="optionB" placeholder="Option B" required>
                <input type="text" id="optionC" placeholder="Option C" required>
                <input type="text" id="optionD" placeholder="Option D" required>
                <select id="correctOption" required>
                    <option value="">Select Correct Option</option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                </select>
                <button type="submit" class="btn-primary">Add Quiz</button>
            </form>
        </div>
    </section>

    <script src="js/main.js"></script>
    <script>
        // CHECK ADMIN LOGIN
        let currentUser = JSON.parse(localStorage.getItem('ivc_current_user'));
        if(!currentUser || currentUser.email !== 'admin@ideavault.com'){
            alert('Admin access only!');
            window.location.href = 'login.html';
        }

        // ADD COURSE
        document.getElementById('courseForm').addEventListener('submit', function(e){
            e.preventDefault();
            let title = document.getElementById('courseTitle').value.trim();
            let content = document.getElementById('courseContent').value.trim();

            let courses = JSON.parse(localStorage.getItem('ivc_courses')) || [];
            courses.push({ title, content });
            localStorage.setItem('ivc_courses', JSON.stringify(courses));
            alert('Course added successfully!');
            this.reset();
        });

        // ADD QUIZ
        document.getElementById('quizForm').addEventListener('submit', function(e){
            e.preventDefault();
            let question = document.getElementById('quizQuestion').value.trim();
            let a = document.getElementById('optionA').value.trim();
            let b = document.getElementById('optionB').value.trim();
            let c = document.getElementById('optionC').value.trim();
            let d = document.getElementById('optionD').value.trim();
            let correct = document.getElementById('correctOption').value;

            if(!correct){ alert('Please select correct option'); return; }

            let quizzes = JSON.parse(localStorage.getItem('ivc_quizzes')) || [];
            quizzes.push({ question, a, b, c, d, correct });
            localStorage.setItem('ivc_quizzes', JSON.stringify(quizzes));
            alert('Quiz added successfully!');
            this.reset();
        });
    </script>
</body>
</html>
