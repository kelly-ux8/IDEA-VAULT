<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDEA VAULT CLUB</title>
<style>
body {margin:0;font-family:Arial;background:#0b0c10;color:white;}
header {background:linear-gradient(90deg,#1f2833,#0b0c10);padding:20px;text-align:center;}
header img {width:120px;}
nav {display:flex;justify-content:center;gap:20px;background:#1f2833;padding:15px;flex-wrap:wrap;}
nav a {color:#66fcf1;text-decoration:none;font-weight:bold;}
section {padding:40px;}
.hero {background:url('club.jpg') center/cover;height:350px;display:flex;align-items:center;justify-content:center;text-align:center;}
.hero h1 {font-size:3em;background:rgba(0,0,0,0.6);padding:20px;}
.card {background:#1f2833;padding:20px;margin:20px;border-radius:10px;}
footer {text-align:center;padding:20px;background:#1f2833;}
button {background:#66fcf1;border:none;padding:10px 20px;cursor:pointer;font-weight:bold;margin-top:10px;}
input, textarea {padding:10px;margin:10px;width:80%;}
.login-box {max-width:400px;margin:auto;background:#1f2833;padding:30px;border-radius:10px;text-align:center;}
.hidden {display:none;}
.certificate {background:white;color:black;padding:30px;text-align:center;border:5px solid gold;}
</style>
</head>
<body>

<header>
<img src="logo.png">
<h2>IDEA VAULT CLUB</h2>
</header>

<nav>
<a href="#register">Register</a>
<a href="#login">Login</a>
<a href="#quiz">Quiz</a>
<a href="#admin">Admin</a>
<a href="#leaderboard">Leaderboard</a>
<a href="#courses">Courses</a>
<a href="#certificate">Certificate</a>
</nav>

<section id="register">
<h2>Register</h2>
<div class="login-box">
<input type="text" id="newUser" placeholder="Username"><br>
<input type="password" id="newPass" placeholder="Password"><br>
<button onclick="register()">Register</button>
<p id="regMsg"></p>
</div>
</section>

<section id="login">
<h2>Login</h2>
<div class="login-box">
<input type="text" id="username" placeholder="Username"><br>
<input type="password" id="password" placeholder="Password"><br>
<button onclick="login()">Login</button>
<p id="loginMsg"></p>
</div>
</section>

<section id="quiz" class="hidden">
<h2>Quiz</h2>
<div class="card" id="quizArea"></div>
</section>

<section id="admin" class="hidden">
<h2>Admin Panel</h2>
<div class="card">
<textarea id="question" placeholder="Question"></textarea><br>
<input type="text" id="opt1" placeholder="Option 1"><br>
<input type="text" id="opt2" placeholder="Option 2"><br>
<input type="text" id="opt3" placeholder="Option 3"><br>
<input type="text" id="correct" placeholder="Correct Answer"><br>
<button onclick="addQuiz()">Add Quiz</button>
<p id="adminMsg"></p>
</div>
</section>

<section id="leaderboard" class="hidden">
<h2>Leaderboard</h2>
<div class="card" id="leaderArea"></div>
</section>

<section id="courses" class="hidden">
<h2>Upload Course</h2>
<div class="card">
<textarea id="courseText" placeholder="Paste Course Content"></textarea><br>
<button onclick="addCourse()">Upload Course</button>
<div id="courseArea"></div>
</div>
</section>

<section id="certificate" class="hidden">
<h2>Certificate</h2>
<div class="certificate" id="certBox">
<h1>Certificate of Achievement</h1>
<p>This certifies that</p>
<h2 id="certName"></h2>
<p>Has passed IDEA VAULT IP Quiz</p>
</div>
<button onclick="downloadCert()">Download PDF</button>
</section>

<script>
let users = JSON.parse(localStorage.getItem("users")) || {};
let quizzes = JSON.parse(localStorage.getItem("quizzes")) || [];
let leaderboard = JSON.parse(localStorage.getItem("leaderboard")) || {};
let courses = JSON.parse(localStorage.getItem("courses")) || [];
let currentUser = "";
let adminUser = "admin";

function register(){
let u=newUser.value; let p=newPass.value;
if(users[u]) regMsg.innerText="User exists";
else { users[u]=p; localStorage.setItem("users",JSON.stringify(users)); regMsg.innerText="Registered"; }
}

function login(){
let u=username.value; let p=password.value;
if(users[u] && users[u]==p){
currentUser=u;
loginMsg.innerText="Success";
quiz.classList.remove("hidden");
leaderboardSection();
loadQuiz();
loadCourses();
if(u==adminUser) admin.classList.remove("hidden");
}
}

function addQuiz(){
quizzes.push({q:question.value,a:[opt1.value,opt2.value,opt3.value],c:correct.value});
localStorage.setItem("quizzes",JSON.stringify(quizzes));
adminMsg.innerText="Quiz Added";
}

function loadQuiz(){
quizArea.innerHTML="";
quizzes.forEach((item,i)=>{
quizArea.innerHTML+=`<p>${item.q}</p>
<input type='radio' name='q${i}' value='${item.a[0]}'>${item.a[0]}<br>
<input type='radio' name='q${i}' value='${item.a[1]}'>${item.a[1]}<br>
<input type='radio' name='q${i}' value='${item.a[2]}'>${item.a[2]}<br>`;
});
quizArea.innerHTML+="<button onclick='submitQuiz()'>Submit</button><p id='score'></p>";
}

function submitQuiz(){
let score=0;
quizzes.forEach((item,i)=>{
let ans=document.querySelector(`input[name=q${i}]:checked`);
if(ans && ans.value==item.c) score++;
});
scoreEl.innerText="Score: "+score+"/"+quizzes.length;
leaderboard[currentUser]=score;
localStorage.setItem("leaderboard",JSON.stringify(leaderboard));
leaderboardSection();
if(score>=quizzes.length/2){ certName.innerText=currentUser; certificate.classList.remove("hidden"); }
}

function leaderboardSection(){
leaderboardDiv = document.getElementById("leaderArea");
leaderboardDiv.innerHTML="";
Object.entries(leaderboard).sort((a,b)=>b[1]-a[1]).forEach(([u,s])=>{
leaderboardDiv.innerHTML+=`<p>${u}: ${s}</p>`;
});
}

function addCourse(){
courses.push(courseText.value);
localStorage.setItem("courses",JSON.stringify(courses));
loadCourses();
}

function loadCourses(){
courseArea.innerHTML="";
courses.forEach(c=>{ courseArea.innerHTML+=`<p>${c}</p>`; });
}

function downloadCert(){
let element=document.getElementById("certBox");
let win=window.open('');
win.document.write(element.outerHTML);
win.print();
}
</script>

</body>
</html>
